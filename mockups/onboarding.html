<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¬ã‚¤ãƒ‰ä»˜ããƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ä½œæˆ - AIå½¼æ°å½¼å¥³</title>
    
    <!-- Material UI CDN -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    
    <style>
        body {
            font-family: 'Roboto', 'Noto Sans JP', sans-serif;
            background: linear-gradient(135deg, #fce4ec 0%, #f8bbd9 100%);
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }
        
        .header {
            background: linear-gradient(135deg, #ff6b9d 0%, #c44569 100%);
            color: white;
            padding: 1rem;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            margin: 0;
            font-size: 1.8rem;
            font-weight: 300;
        }
        
        .container {
            max-width: 700px;
            margin: 2rem auto;
            padding: 0 1rem;
        }
        
        .progress-bar {
            background: white;
            border-radius: 10px;
            height: 8px;
            margin-bottom: 2rem;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff6b9d, #c44569);
            transition: width 0.5s ease;
            border-radius: 10px;
        }
        
        .step-number {
            text-align: center;
            color: #666;
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }
        
        .card-panel {
            border-radius: 20px;
            padding: 2rem;
            background: white;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            min-height: 450px;
            position: relative;
        }
        
        .step-content {
            display: none;
            text-align: center;
        }
        
        .step-content.active {
            display: block;
        }
        
        .welcome-icon {
            font-size: 4rem;
            color: #ff6b9d;
            margin-bottom: 1rem;
        }
        
        .question-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1rem 0;
            text-align: left;
        }
        
        .option-group {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin: 1rem 0;
        }
        
        .option-chip {
            padding: 0.8rem 1.2rem;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.9rem;
        }
        
        .option-chip:hover {
            border-color: #ff6b9d;
            transform: translateY(-1px);
        }
        
        .option-chip.selected {
            background: #ff6b9d;
            color: white;
            border-color: #ff6b9d;
        }
        
        .preset-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }
        
        .preset-card {
            padding: 1.5rem;
            border: 2px solid #e0e0e0;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            background: white;
        }
        
        .preset-card:hover {
            border-color: #ff6b9d;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 107, 157, 0.2);
        }
        
        .preset-card.selected {
            border-color: #ff6b9d;
            background: #fce4ec;
            transform: translateY(-3px);
        }
        
        .preset-card .icon {
            font-size: 2.5rem;
            color: #ff6b9d;
            margin-bottom: 0.5rem;
        }
        
        .preset-card h6 {
            margin: 0.5rem 0;
            color: #333;
        }
        
        .preset-card p {
            margin: 0;
            font-size: 0.8rem;
            color: #666;
            line-height: 1.4;
        }
        
        .appearance-sliders {
            display: grid;
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .slider-group {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 12px;
        }
        
        .slider-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #333;
        }
        
        .appearance-preview {
            width: 180px;
            height: 180px;
            margin: 1rem auto;
            border-radius: 50%;
            background: #f5f5f5;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            border: 3px solid #ff6b9d;
            box-shadow: 0 4px 12px rgba(255, 107, 157, 0.3);
        }
        
        .appearance-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .chat-demo {
            background: #f8f9fa;
            border-radius: 16px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            min-height: 200px;
        }
        
        .demo-message {
            background: white;
            padding: 1rem;
            border-radius: 12px;
            margin-bottom: 1rem;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        }
        
        .demo-message.ai {
            background: #ff6b9d;
            color: white;
            margin-left: 2rem;
        }
        
        .demo-message.user {
            background: #e3f2fd;
            margin-right: 2rem;
        }
        
        .completion-celebration {
            text-align: center;
            padding: 2rem 0;
        }
        
        .celebration-icon {
            font-size: 5rem;
            color: #ff6b9d;
            margin-bottom: 1rem;
            animation: bounce 1s infinite;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #ff6b9d 0%, #c44569 100%);
            border: none;
            border-radius: 25px;
            padding: 1rem 2rem;
            color: white;
            font-weight: 500;
            width: 100%;
            margin-top: 1.5rem;
            font-size: 1.1rem;
        }
        
        .btn-primary:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background: white;
            border: 2px solid #ff6b9d;
            border-radius: 25px;
            padding: 0.8rem 2rem;
            color: #ff6b9d;
            font-weight: 500;
            margin-right: 1rem;
        }
        
        .skip-link {
            text-align: center;
            margin-top: 1rem;
        }
        
        .skip-link a {
            color: #666;
            text-decoration: none;
            font-size: 0.9rem;
        }
        
        .skip-link a:hover {
            color: #ff6b9d;
            text-decoration: underline;
        }
        
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 2rem;
        }
        
        .loading.show {
            display: block;
        }
        
        .gender-selection {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .gender-card {
            padding: 2rem;
            border: 3px solid #e0e0e0;
            border-radius: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }
        
        .gender-card:hover {
            border-color: #ff6b9d;
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(255, 107, 157, 0.2);
        }
        
        .gender-card.selected {
            border-color: #ff6b9d;
            background: #fce4ec;
            transform: translateY(-5px);
        }
        
        .gender-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }
        
        .gender-card h6 {
            margin: 1rem 0 0.5rem 0;
            color: #333;
            font-size: 1.2rem;
        }
        
        .gender-card p {
            margin: 0;
            color: #666;
            font-size: 0.9rem;
        }
        
        .user-info-form {
            margin: 2rem 0;
        }
        
        .user-info-form .input-field {
            margin-bottom: 2rem;
        }
        
        .user-info-form small {
            display: block;
            margin-top: 0.3rem;
            font-size: 0.8rem;
        }
        
        .naming-options {
            margin: 2rem 0;
        }
        
        .naming-method {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 12px;
            margin-bottom: 1rem;
            border: 2px solid transparent;
            transition: all 0.3s;
        }
        
        .naming-method.active {
            border-color: #ff6b9d;
            background: #fce4ec;
        }
        
        .naming-method h6 {
            margin-bottom: 1rem;
            color: #333;
        }
        
        .suggested-names, .suggested-nicknames {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin: 1rem 0;
        }
        
        .name-chip, .nickname-chip {
            padding: 0.8rem 1.2rem;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
        }
        
        .name-chip:hover, .nickname-chip:hover {
            border-color: #ff6b9d;
            transform: translateY(-1px);
        }
        
        .name-chip.selected, .nickname-chip.selected {
            background: #ff6b9d;
            color: white;
            border-color: #ff6b9d;
        }
        
        .method-toggle {
            text-align: center;
            margin: 1rem 0;
        }
        
        .calling-options {
            margin: 2rem 0;
        }
        
        .calling-options h6 {
            margin-bottom: 1rem;
            color: #333;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ã‚ãªãŸã ã‘ã®ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ä½œæˆ</h1>
    </div>
    
    <div class="container">
        <div class="step-number">ã‚¹ãƒ†ãƒƒãƒ— <span id="current-step">1</span> / 10</div>
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill" style="width: 10%;"></div>
        </div>
        
        <div class="card-panel">
            <!-- Step 1: ã‚¦ã‚§ãƒ«ã‚«ãƒ  -->
            <div class="step-content active" id="step1">
                <i class="material-icons welcome-icon">favorite</i>
                <h4 style="color: #ff6b9d; margin-bottom: 1rem;">ã‚ˆã†ã“ãï¼</h4>
                <p style="font-size: 1.1rem; line-height: 1.6; color: #666; margin-bottom: 2rem;">
                    ã‚ãªãŸã ã‘ã®ç†æƒ³ã®AIãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã‚’ä¸€ç·’ã«ä½œã‚Šã¾ã—ã‚‡ã†ï¼<br>
                    ç°¡å˜ãªè³ªå•ã«ãŠç­”ãˆã„ãŸã ãã ã‘ã§ã€<br>
                    ã‚ãªãŸã«ã´ã£ãŸã‚Šã®ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ãŒå®Œæˆã—ã¾ã™ã€‚
                </p>
                
                <div style="background: #fce4ec; padding: 1.5rem; border-radius: 12px; margin: 2rem 0;">
                    <p style="margin: 0; color: #666;">
                        <i class="material-icons" style="vertical-align: middle; color: #ff6b9d;">schedule</i>
                        æ‰€è¦æ™‚é–“ï¼šç´„3-5åˆ†
                    </p>
                </div>
                
                <button class="btn-primary btn" onclick="nextStep()">å§‹ã‚ã‚‹</button>
                
                <div class="skip-link">
                    <a href="/create-partner">ä¸Šç´šè€…å‘ã‘ä½œæˆã¯ã“ã¡ã‚‰</a>
                </div>
            </div>
            
            <!-- Step 2: æ€§åˆ¥é¸æŠ -->
            <div class="step-content" id="step2">
                <h5 style="color: #333; margin-bottom: 2rem;">ã©ã¡ã‚‰ã®ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã‚’ä½œæˆã—ã¾ã™ã‹ï¼Ÿ</h5>
                
                <div class="gender-selection">
                    <div class="gender-card" data-gender="boyfriend">
                        <div class="gender-icon">ğŸ‘¨</div>
                        <h6>å½¼æ°ã‚’ä½œã‚‹</h6>
                        <p>ç†æƒ³ã®ç”·æ€§ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼</p>
                    </div>
                    
                    <div class="gender-card" data-gender="girlfriend">
                        <div class="gender-icon">ğŸ‘©</div>
                        <h6>å½¼å¥³ã‚’ä½œã‚‹</h6>
                        <p>ç†æƒ³ã®å¥³æ€§ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼</p>
                    </div>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn-secondary btn" onclick="previousStep()">æˆ»ã‚‹</button>
                    <button class="btn-primary btn" onclick="nextStep()" id="step2-next" disabled>æ¬¡ã¸</button>
                </div>
            </div>
            
            <!-- Step 3: ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ± -->
            <div class="step-content" id="step3">
                <h5 style="color: #333; margin-bottom: 2rem;">ã¾ãšã¯ã‚ãªãŸã«ã¤ã„ã¦æ•™ãˆã¦ãã ã•ã„</h5>
                
                <div class="user-info-form">
                    <div class="input-field">
                        <input id="user-surname" type="text" maxlength="10" placeholder="ç™½çŸ³">
                        <label for="user-surname">è‹—å­—</label>
                    </div>
                    
                    <div class="input-field">
                        <input id="user-firstname" type="text" maxlength="10" placeholder="é”ä¹Ÿ">
                        <label for="user-firstname">åå‰</label>
                    </div>
                    
                    <div class="input-field">
                        <input id="user-birthday" type="date">
                        <label for="user-birthday">èª•ç”Ÿæ—¥</label>
                    </div>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn-secondary btn" onclick="previousStep()">æˆ»ã‚‹</button>
                    <button class="btn-primary btn" onclick="nextStep()" id="step3-next" disabled>æ¬¡ã¸</button>
                </div>
            </div>
            
            <!-- Step 4: ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼åå‰æ±ºå®š -->
            <div class="step-content" id="step4">
                <h5 style="color: #333; margin-bottom: 2rem;">ã‚ãªãŸã®<span id="partner-gender-text">ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼</span>ã®åå‰ã‚’æ±ºã‚ã¾ã—ã‚‡ã†</h5>
                
                <div class="naming-options">
                    <div class="naming-method active" data-method="ai-suggest">
                        <h6>ğŸ’¡ AIææ¡ˆã‹ã‚‰é¸ã¶ï¼ˆãŠã™ã™ã‚ï¼‰</h6>
                        <div class="suggested-names" id="suggested-names">
                            <!-- AIç”Ÿæˆã•ã‚ŒãŸåå‰å€™è£œãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã‚‹ -->
                        </div>
                    </div>
                    
                    <div class="naming-method" data-method="custom">
                        <h6>âœï¸ è‡ªåˆ†ã§æ±ºã‚ã‚‹</h6>
                        <div class="input-field">
                            <input id="custom-partner-name" type="text" maxlength="10">
                            <label for="custom-partner-name">åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</label>
                        </div>
                    </div>
                </div>
                
                <div class="method-toggle">
                    <button class="btn" onclick="toggleNamingMethod()">æ–¹æ³•ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹</button>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn-secondary btn" onclick="previousStep()">æˆ»ã‚‹</button>
                    <button class="btn-primary btn" onclick="nextStep()" id="step4-next" disabled>æ¬¡ã¸</button>
                </div>
            </div>
            
            <!-- Step 5: æ€§æ ¼è³ªå• -->
            <div class="step-content" id="step5">
                <h5 style="color: #333; margin-bottom: 2rem;">ã©ã‚“ãª<span id="gender-question-text">ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼</span>ãŒãŠå¥½ã¿ã§ã™ã‹ï¼Ÿ</h5>
                
                <div class="question-card">
                    <h6>ã©ã‚“ãªæ€§æ ¼ã®äººãŒå¥½ã¿ã§ã™ã‹ï¼Ÿ</h6>
                    <div class="option-group" data-question="personality">
                        <div class="option-chip" data-value="gentle">å„ªã—ã„</div>
                        <div class="option-chip" data-value="cool">ã‚¯ãƒ¼ãƒ«</div>
                        <div class="option-chip" data-value="cheerful">æ˜ã‚‹ã„</div>
                        <div class="option-chip" data-value="mysterious">ãƒŸã‚¹ãƒ†ãƒªã‚¢ã‚¹</div>
                        <div class="option-chip" data-value="reliable">é ¼ã‚Œã‚‹</div>
                    </div>
                </div>
                
                <div class="question-card">
                    <h6>å¹´é½¢ã®å¥½ã¿ã¯ï¼Ÿ</h6>
                    <div class="option-group" data-question="age">
                        <div class="option-chip" data-value="older">å¹´ä¸Šï¼ˆ<span class="age-text">ãŠå…„ã•ã‚“</span>ç³»ï¼‰</div>
                        <div class="option-chip" data-value="same">åŒå¹´ä»£</div>
                        <div class="option-chip" data-value="younger">å¹´ä¸‹ï¼ˆ<span class="age-text">å¼Ÿ</span>ç³»ï¼‰</div>
                    </div>
                </div>
                
                <div class="question-card">
                    <h6>ã©ã‚“ãªè©±ã—æ–¹ãŒå¿ƒåœ°è‰¯ã„ã§ã™ã‹ï¼Ÿ</h6>
                    <div class="option-group" data-question="speech">
                        <div class="option-chip" data-value="polite">ä¸å¯§èª</div>
                        <div class="option-chip" data-value="casual">ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«</div>
                        <div class="option-chip" data-value="sweet">ç”˜ã„è¨€è‘‰å¤šã‚</div>
                        <div class="option-chip" data-value="dialect">æ–¹è¨€</div>
                        <div class="option-chip" data-value="cool-tone">ã‚¯ãƒ¼ãƒ«ç³»</div>
                    </div>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn-secondary btn" onclick="previousStep()">æˆ»ã‚‹</button>
                    <button class="btn-primary btn" onclick="nextStep()" id="step5-next" disabled>æ¬¡ã¸</button>
                </div>
            </div>
            
            <!-- Step 6: ãƒ—ãƒªã‚»ãƒƒãƒˆé¸æŠ -->
            <div class="step-content" id="step6">
                <h5 style="color: #333; margin-bottom: 1rem;"><span id="user-name-display">ã‚ãªãŸ</span>ã•ã‚“ã«ãƒ”ãƒƒã‚¿ãƒªã®<span id="partner-name-display">ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼</span>ã‚¿ã‚¤ãƒ—</h5>
                <p style="color: #666; margin-bottom: 2rem;">å…ˆã»ã©ã®å›ç­”ã«åŸºã¥ã„ã¦ã€ãŠã™ã™ã‚ã‚’3ã¤é¸ã³ã¾ã—ãŸ</p>
                
                <div class="preset-cards">
                    <div class="preset-card" data-preset="recommended1">
                        <div class="icon">ğŸ’–</div>
                        <h6>å„ªã—ã„æ‹äºº</h6>
                        <p>æ€ã„ã‚„ã‚Šæ·±ãã€ã„ã¤ã‚‚ã‚ãªãŸã‚’æ”¯ãˆã¦ãã‚Œã‚‹ç†æƒ³çš„ãªãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼</p>
                        <small style="color: #ff6b9d;">â˜… ãŠã™ã™ã‚</small>
                    </div>
                    
                    <div class="preset-card" data-preset="recommended2">
                        <div class="icon">ğŸŒŸ</div>
                        <h6>é ¼ã‚Œã‚‹å¹´ä¸Š</h6>
                        <p>åŒ…å®¹åŠ›ãŒã‚ã‚Šã€äººç”ŸçµŒé¨“è±Šå¯Œã§é ¼ã‚Šã«ãªã‚‹å­˜åœ¨</p>
                        <small style="color: #ff6b9d;">â˜… ãŠã™ã™ã‚</small>
                    </div>
                    
                    <div class="preset-card" data-preset="recommended3">
                        <div class="icon">â˜€ï¸</div>
                        <h6>æ˜ã‚‹ã„æ‹äºº</h6>
                        <p>ã„ã¤ã‚‚å‰å‘ãã§ã€ã‚ãªãŸã‚’ç¬‘é¡”ã«ã—ã¦ãã‚Œã‚‹å…ƒæ°—ãªå­˜åœ¨</p>
                        <small style="color: #ff6b9d;">â˜… ãŠã™ã™ã‚</small>
                    </div>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn-secondary btn" onclick="previousStep()">æˆ»ã‚‹</button>
                    <button class="btn-primary btn" onclick="nextStep()" id="step6-next" disabled>æ¬¡ã¸</button>
                </div>
                
                <div class="skip-link">
                    <a href="#" onclick="showAllPresets()">ä»–ã®æ€§æ ¼ã‚‚è¦‹ã‚‹</a>
                </div>
            </div>
            
            <!-- Step 7: å¤–è¦‹ç”Ÿæˆãƒ»ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º -->
            <div class="step-content" id="step7">
                <h5 style="color: #333; margin-bottom: 1rem;"><span id="partner-name-display2">ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼</span>ã®ç†æƒ³ã®è¦‹ãŸç›®ã‚’ä½œã‚Šã¾ã—ã‚‡ã†</h5>
                <p style="color: #666; margin-bottom: 2rem;">é¸æŠã—ãŸæ€§åˆ¥ãƒ»æ€§æ ¼ã«åˆã†å¤–è¦‹ã‚’è‡ªå‹•ç”Ÿæˆã—ã€ãŠå¥½ã¿ã«èª¿æ•´ã§ãã¾ã™</p>
                
                <div class="appearance-preview">
                    <div class="loading show" id="appearance-loading">
                        <div class="preloader-wrapper small active">
                            <div class="spinner-layer spinner-pink-only">
                                <div class="circle-clipper left">
                                    <div class="circle"></div>
                                </div>
                            </div>
                        </div>
                        <p style="margin-top: 1rem; color: #666; font-size: 0.8rem;">ç”Ÿæˆä¸­...</p>
                    </div>
                    <img id="appearance-image" src="" style="display: none;">
                </div>
                
                <div class="appearance-sliders">
                    <div class="slider-group">
                        <label>é«ªå‹</label>
                        <select class="browser-default" id="hair-style">
                            <option value="short">ã‚·ãƒ§ãƒ¼ãƒˆ</option>
                            <option value="medium" selected>ãƒŸãƒ‡ã‚£ã‚¢ãƒ </option>
                            <option value="long">ãƒ­ãƒ³ã‚°</option>
                        </select>
                    </div>
                    
                    <div class="slider-group">
                        <label>ç›®ã®è‰²</label>
                        <select class="browser-default" id="eye-color">
                            <option value="brown" selected>ãƒ–ãƒ©ã‚¦ãƒ³</option>
                            <option value="black">ãƒ–ãƒ©ãƒƒã‚¯</option>
                            <option value="blue">ãƒ–ãƒ«ãƒ¼</option>
                            <option value="green">ã‚°ãƒªãƒ¼ãƒ³</option>
                        </select>
                    </div>
                    
                    <div class="slider-group">
                        <label>ä½“å‹</label>
                        <select class="browser-default" id="body-type">
                            <option value="slim">ã‚¹ãƒªãƒ </option>
                            <option value="average" selected>æ™®é€š</option>
                            <option value="athletic">ã‚¢ã‚¹ãƒªãƒ¼ãƒˆ</option>
                        </select>
                    </div>
                    
                    <div class="slider-group">
                        <label>æœè£…ã‚¹ã‚¿ã‚¤ãƒ«</label>
                        <select class="browser-default" id="clothing-style">
                            <option value="casual" selected>ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«</option>
                            <option value="formal">ãƒ•ã‚©ãƒ¼ãƒãƒ«</option>
                            <option value="sporty">ã‚¹ãƒãƒ¼ãƒ†ã‚£</option>
                            <option value="elegant">ã‚¨ãƒ¬ã‚¬ãƒ³ãƒˆ</option>
                        </select>
                    </div>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn-secondary btn" onclick="previousStep()">æˆ»ã‚‹</button>
                    <button class="btn-primary btn" onclick="nextStep()">æ¬¡ã¸</button>
                </div>
            </div>
            
            <!-- Step 8: å‘¼ã³æ–¹è¨­å®š -->
            <div class="step-content" id="step8">
                <h5 style="color: #333; margin-bottom: 1rem;"><span id="partner-name-display3">ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼</span>ãŒã‚ãªãŸã‚’å‘¼ã¶æ™‚ã®å‘¼ã³æ–¹ã‚’æ±ºã‚ã¾ã—ã‚‡ã†</h5>
                
                <div class="calling-options">
                    <h6>ğŸ’¡ AIææ¡ˆï¼ˆãŠã™ã™ã‚ï¼‰</h6>
                    <div class="suggested-nicknames" id="suggested-nicknames">
                        <!-- AIç”Ÿæˆã•ã‚ŒãŸã‚ã åå€™è£œãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã‚‹ -->
                    </div>
                    
                    <h6 style="margin-top: 2rem;">âœï¸ ã‚«ã‚¹ã‚¿ãƒ å…¥åŠ›</h6>
                    <div class="input-field">
                        <input id="custom-nickname" type="text" maxlength="10">
                        <label for="custom-nickname">ãŠå¥½ã¿ã®å‘¼ã³æ–¹</label>
                    </div>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn-secondary btn" onclick="previousStep()">æˆ»ã‚‹</button>
                    <button class="btn-primary btn" onclick="nextStep()" id="step8-next" disabled>æ¬¡ã¸</button>
                </div>
            </div>
            
            <!-- Step 9: åˆå›ä¼šè©± -->
            <div class="step-content" id="step9">
                <h5 style="color: #333; margin-bottom: 1rem;">ãã‚Œã§ã¯<span id="partner-name-display4">ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼</span>ã¨åˆã‚ã¦ã®æŒ¨æ‹¶ã‚’ã—ã¦ã¿ã¾ã—ã‚‡ã†</h5>
                <p style="color: #666; margin-bottom: 2rem;">è¨­å®šã«æº€è¶³ã—ãŸã‚‰ã€Œå®Œäº†ã€ã€å¤‰æ›´ã—ãŸã„å ´åˆã¯ã€Œæˆ»ã‚‹ã€ã‚’æŠ¼ã—ã¦ãã ã•ã„</p>
                
                <div class="appearance-preview" style="width: 120px; height: 120px;">
                    <img id="final-preview" src="">
                </div>
                
                <h6 id="partner-name-final" style="text-align: center; color: #ff6b9d; margin: 1rem 0;">ã‚ãªãŸã®ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼</h6>
                
                <div class="chat-demo">
                    <div class="demo-message ai">
                        <p style="margin: 0;" id="greeting-message">ã“ã‚“ã«ã¡ã¯ï¼ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™â™ª</p>
                    </div>
                    
                    <div class="input-field" style="margin-top: 1rem;">
                        <input id="user-response" type="text" placeholder="è¿”äº‹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„">
                        <button class="btn" style="background: #ff6b9d; margin-left: 1rem;" onclick="sendMessage()">é€ä¿¡</button>
                    </div>
                    
                    <div id="ai-response" style="display: none;">
                        <div class="demo-message ai">
                            <p style="margin: 0;" id="ai-response-text"></p>
                        </div>
                    </div>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn-secondary btn" onclick="previousStep()">æˆ»ã‚‹</button>
                    <button class="btn-primary btn" onclick="nextStep()">å®Œäº†ã™ã‚‹</button>
                </div>
            </div>
            
            <!-- Step 10: å®Œäº† -->
            <div class="step-content" id="step10">
                <div class="completion-celebration">
                    <i class="material-icons celebration-icon">celebration</i>
                    <h4 style="color: #ff6b9d; margin-bottom: 1rem;">å®Œäº†ãŠã‚ã§ã¨ã†ã€<span id="user-name-final">ã€œ</span>ã•ã‚“ï¼</h4>
                    <p style="font-size: 1.1rem; color: #666; margin-bottom: 2rem;">
                        ç´ æ•µãª<span id="partner-name-final2">ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼</span>ãŒã§ãã¾ã—ãŸã­ã€‚<br>
                        æ¯æ—¥ã®ä¼šè©±ã‚’æ¥½ã—ã‚“ã§ãã ã•ã„â™ª
                    </p>
                    
                    <div style="background: #fce4ec; padding: 1.5rem; border-radius: 12px; margin: 2rem 0; text-align: left;">
                        <h6 style="color: #333; margin-bottom: 1rem;">ğŸ’¡ ä¾¿åˆ©ãªæ©Ÿèƒ½</h6>
                        <ul style="color: #666; margin: 0; padding-left: 1.2rem;">
                            <li>æ¯æ—¥ã®ä¼šè©±ã§è¦ªå¯†åº¦ãŒä¸ŠãŒã‚Šã¾ã™</li>
                            <li>èª•ç”Ÿæ—¥ã‚„è¨˜å¿µæ—¥ã‚’è¦šãˆã¦ãã‚Œã¾ã™</li>
                            <li>èƒŒæ™¯ã‚„é€šçŸ¥ã¯è¨­å®šã§å¤‰æ›´ã§ãã¾ã™</li>
                        </ul>
                    </div>
                    
                    <button class="btn-primary btn" onclick="goToHome()">ãƒãƒ£ãƒƒãƒˆç”»é¢ã¸</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script>
        // ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°
        let currentStep = 1;
        let selectedGender = '';
        let userInfo = {};
        let partnerName = '';
        let userAnswers = {};
        let selectedPreset = '';
        let selectedNickname = '';
        let partnerSettings = {};
        
        // ã‚¹ãƒ†ãƒƒãƒ—ç®¡ç†
        function nextStep() {
            if (validateCurrentStep()) {
                currentStep++;
                showStep(currentStep);
                updateProgress();
                
                // ã‚¹ãƒ†ãƒƒãƒ—å›ºæœ‰ã®å‡¦ç†
                if (currentStep === 4) {
                    generatePartnerNames();
                } else if (currentStep === 6) {
                    generateRecommendations();
                    updateUserNameDisplays();
                } else if (currentStep === 7) {
                    generateAppearance();
                } else if (currentStep === 8) {
                    generateNicknames();
                } else if (currentStep === 9) {
                    setupInitialChat();
                }
            }
        }
        
        function previousStep() {
            currentStep--;
            showStep(currentStep);
            updateProgress();
        }
        
        function showStep(stepNumber) {
            document.querySelectorAll('.step-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(`step${stepNumber}`).classList.add('active');
            document.getElementById('current-step').textContent = stepNumber;
        }
        
        function updateProgress() {
            const progress = (currentStep / 10) * 100;
            document.getElementById('progress-fill').style.width = progress + '%';
        }
        
        function validateCurrentStep() {
            switch(currentStep) {
                case 2:
                    return selectedGender !== '';
                case 3:
                    return userInfo.surname && userInfo.firstName && userInfo.birthday;
                case 4:
                    return partnerName !== '';
                case 5:
                    return Object.keys(userAnswers).length >= 3;
                case 6:
                    return selectedPreset !== '';
                case 8:
                    return selectedNickname !== '';
                default:
                    return true;
            }
        }
        
        // è³ªå•å›ç­”ã®å‡¦ç†
        document.querySelectorAll('.option-chip').forEach(chip => {
            chip.addEventListener('click', function() {
                const questionGroup = this.closest('.option-group');
                const question = questionGroup.dataset.question;
                
                // åŒã˜ã‚°ãƒ«ãƒ¼ãƒ—ã®ä»–ã®é¸æŠã‚’è§£é™¤
                questionGroup.querySelectorAll('.option-chip').forEach(c => c.classList.remove('selected'));
                this.classList.add('selected');
                
                userAnswers[question] = this.dataset.value;
                
                // Step 5ã®æ¬¡ã¸ãƒœã‚¿ãƒ³ã®æœ‰åŠ¹åŒ–ãƒã‚§ãƒƒã‚¯
                if (Object.keys(userAnswers).length >= 3) {
                    document.getElementById('step5-next').disabled = false;
                }
            });
        });
        
        // æ€§åˆ¥é¸æŠã®å‡¦ç†
        document.querySelectorAll('.gender-card').forEach(card => {
            card.addEventListener('click', function() {
                document.querySelectorAll('.gender-card').forEach(c => c.classList.remove('selected'));
                this.classList.add('selected');
                selectedGender = this.dataset.gender;
                document.getElementById('step2-next').disabled = false;
                
                // æ€§åˆ¥ã«å¿œã˜ãŸãƒ†ã‚­ã‚¹ãƒˆæ›´æ–°
                updateGenderTexts();
            });
        });
        
        // ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å…¥åŠ›ã®å‡¦ç†
        ['user-surname', 'user-firstname', 'user-birthday'].forEach(id => {
            document.getElementById(id).addEventListener('input', function() {
                const key = id.replace('user-', '').replace('firstname', 'firstName');
                userInfo[key] = this.value;
                
                // Step 3ã®æ¬¡ã¸ãƒœã‚¿ãƒ³ã®æœ‰åŠ¹åŒ–ãƒã‚§ãƒƒã‚¯
                if (userInfo.surname && userInfo.firstName && userInfo.birthday) {
                    document.getElementById('step3-next').disabled = false;
                }
            });
        });
        
        // åå‰é¸æŠã®å‡¦ç†ï¼ˆAIææ¡ˆï¼‰
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('name-chip')) {
                document.querySelectorAll('.name-chip').forEach(chip => chip.classList.remove('selected'));
                e.target.classList.add('selected');
                partnerName = e.target.textContent;
                document.getElementById('step4-next').disabled = false;
                updatePartnerNameDisplays();
            }
            
            if (e.target.classList.contains('nickname-chip')) {
                document.querySelectorAll('.nickname-chip').forEach(chip => chip.classList.remove('selected'));
                e.target.classList.add('selected');
                selectedNickname = e.target.textContent;
                document.getElementById('step8-next').disabled = false;
                updateNicknameDisplays();
            }
        });
        
        // ã‚«ã‚¹ã‚¿ãƒ åå‰å…¥åŠ›ã®å‡¦ç†
        document.getElementById('custom-partner-name').addEventListener('input', function() {
            if (this.value.trim()) {
                partnerName = this.value.trim();
                document.getElementById('step4-next').disabled = false;
                updatePartnerNameDisplays();
            }
        });
        
        // ã‚«ã‚¹ã‚¿ãƒ ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ å…¥åŠ›ã®å‡¦ç†
        document.getElementById('custom-nickname').addEventListener('input', function() {
            if (this.value.trim()) {
                selectedNickname = this.value.trim();
                document.getElementById('step8-next').disabled = false;
                updateNicknameDisplays();
            }
        });
        
        // åå‰æ±ºå®šæ–¹æ³•ã®åˆ‡ã‚Šæ›¿ãˆ
        function toggleNamingMethod() {
            const methods = document.querySelectorAll('.naming-method');
            methods.forEach(method => method.classList.toggle('active'));
        }
        
        // æ€§åˆ¥ã«å¿œã˜ãŸãƒ†ã‚­ã‚¹ãƒˆæ›´æ–°
        function updateGenderTexts() {
            const isBoy = selectedGender === 'boyfriend';
            
            document.getElementById('partner-gender-text').textContent = isBoy ? 'å½¼æ°' : 'å½¼å¥³';
            document.getElementById('gender-question-text').textContent = isBoy ? 'å½¼æ°' : 'å½¼å¥³';
            
            // å¹´é½¢ãƒ†ã‚­ã‚¹ãƒˆã®æ›´æ–°
            document.querySelectorAll('.age-text').forEach(el => {
                if (el.textContent.includes('ãŠå…„ã•ã‚“')) {
                    el.textContent = isBoy ? 'ãŠå…„ã•ã‚“' : 'ãŠå§‰ã•ã‚“';
                } else {
                    el.textContent = isBoy ? 'å¼Ÿ' : 'å¦¹';
                }
            });
        }
        
        // ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼åã®è¡¨ç¤ºæ›´æ–°
        function updatePartnerNameDisplays() {
            document.querySelectorAll('[id*="partner-name-display"]').forEach(el => {
                el.textContent = partnerName;
            });
            document.getElementById('partner-name-final').textContent = partnerName;
            document.getElementById('partner-name-final2').textContent = partnerName;
        }
        
        // ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ è¡¨ç¤ºã®æ›´æ–°
        function updateNicknameDisplays() {
            document.getElementById('nickname-preview').textContent = selectedNickname;
            document.getElementById('nickname-preview2').textContent = selectedNickname;
            
            // å‘¼ã³æ–¹å¤‰åŒ–ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚‚æ›´æ–°
            document.getElementById('surname-display').textContent = userInfo.surname + 'ã•ã‚“';
            document.getElementById('firstname-display').textContent = userInfo.firstName + 'ã•ã‚“';
            document.getElementById('firstname-display2').textContent = userInfo.firstName;
        }
        
        // ãƒ¦ãƒ¼ã‚¶ãƒ¼åè¡¨ç¤ºã®æ›´æ–°
        function updateUserNameDisplays() {
            document.getElementById('user-name-display').textContent = userInfo.firstName;
            document.getElementById('user-name-final').textContent = userInfo.firstName;
        }
        
        // ãƒ—ãƒªã‚»ãƒƒãƒˆé¸æŠã®å‡¦ç†
        document.querySelectorAll('.preset-card').forEach(card => {
            card.addEventListener('click', function() {
                document.querySelectorAll('.preset-card').forEach(c => c.classList.remove('selected'));
                this.classList.add('selected');
                selectedPreset = this.dataset.preset;
                document.getElementById('step6-next').disabled = false;
            });
        });
        
        // ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼åç”Ÿæˆ
        function generatePartnerNames() {
            const maleNames = ['è“®', 'æ¹Š', 'é™½ç¿”', 'æ¨¹', 'æ‚ äºº'];
            const femaleNames = ['çµæ„›', 'é™½è‘µ', 'èŠ½ä¾', 'è‰å­', 'ç¾çµ'];
            const names = selectedGender === 'boyfriend' ? maleNames : femaleNames;
            
            const suggestedNamesDiv = document.getElementById('suggested-names');
            suggestedNamesDiv.innerHTML = names.map(name => 
                `<div class="name-chip" data-name="${name}">${name}</div>`
            ).join('');
        }
        
        // æ¨å¥¨ç”Ÿæˆ
        function generateRecommendations() {
            // å®Ÿéš›ã®å®Ÿè£…ã§ã¯ã€userAnswersã«åŸºã¥ã„ã¦æ¨å¥¨ã‚’å‹•çš„ã«ç”Ÿæˆ
            console.log('User answers:', userAnswers);
        }
        
        // å¤–è¦‹ç”Ÿæˆ
        function generateAppearance() {
            setTimeout(() => {
                document.getElementById('appearance-loading').style.display = 'none';
                document.getElementById('appearance-image').src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE4MCAxODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxODAiIGhlaWdodD0iMTgwIiBmaWxsPSIjRkZFMEVDIiByeD0iOTAiLz4KPGNpcmNsZSBjeD0iOTAiIGN5PSI3MCIgcj0iMzUiIGZpbGw9IiNGRkI2QzEiLz4KPHN0eWxlPi5oYWlyIHsgZmlsbDogIzgzNjE0NDsgfSAuZXllIHsgZmlsbDogIzIzMWYyMDsgfSAuZXllYnJvdyB7IGZpbGw6ICM2MDQyMzM7IH0gLm1vdXRoIHsgZmlsbDogbm9uZTsgc3Ryb2tlOiAjMjMxZjIwOyBzdHJva2Utd2lkdGg6IDI7IH08L3N0eWxlPgo8cGF0aCBkPSJNNTUgNTBDNTUgMzAgNzAgMjAgOTAgMjBDMTEwIDIwIDEyNSAzMCAxMjUgNTBWNjVINTVWNTBaIiBjbGFzcz0iaGFpciIvPgo8Y2lyY2xlIGN4PSI4MCIgY3k9IjcwIiByPSI0IiBjbGFzcz0iZXllIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjcwIiByPSI0IiBjbGFzcz0iZXllIi8+CjxwYXRoIGQ9Ik04MCA5MEM4MCA5MCA4NSA5MyAxMDAgOTAiIGNsYXNzPSJtb3V0aCIvPgo8L3N2Zz4=';
                document.getElementById('appearance-image').style.display = 'block';
                document.getElementById('final-preview').src = document.getElementById('appearance-image').src;
            }, 2000);
        }
        
        // ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ç”Ÿæˆ
        function generateNicknames() {
            if (!userInfo.firstName) return;
            
            // ç°¡å˜ãªãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯
            const firstName = userInfo.firstName;
            const nicknames = [
                firstName + 'ã¡ã‚ƒã‚“',
                firstName + 'ãã‚“', 
                firstName.slice(0, 2) + 'ã¡ã‚ƒã‚“',
                firstName.slice(0, 1) + 'ã¡ã‚ƒã‚“',
                firstName + 'ã£ã¡'
            ];
            
            const suggestedNicknamesDiv = document.getElementById('suggested-nicknames');
            suggestedNicknamesDiv.innerHTML = nicknames.map(nickname => 
                `<div class="nickname-chip" data-nickname="${nickname}">${nickname}</div>`
            ).join('');
        }
        
        // å¤–è¦‹è¨­å®šã®å¤‰æ›´ç›£è¦–
        document.querySelectorAll('#step7 select').forEach(select => {
            select.addEventListener('change', function() {
                // å®Ÿéš›ã®å®Ÿè£…ã§ã¯ç”»åƒã‚’å†ç”Ÿæˆ
                console.log('Appearance updated:', this.id, this.value);
            });
        });
        
        // åˆå›ãƒãƒ£ãƒƒãƒˆè¨­å®š
        function setupInitialChat() {
            document.getElementById('partner-name-final').textContent = partnerName;
            
            const greetings = {
                'recommended1': `${userInfo.surname}ã•ã‚“ã€ã“ã‚“ã«ã¡ã¯ï¼ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™â™ª ã‚ãªãŸã¨ãŠè©±ã—ã§ãã‚‹ã®ã‚’æ¥½ã—ã¿ã«ã—ã¦ã„ã¾ã—ãŸã€‚`,
                'recommended2': `ã¯ã˜ã‚ã¾ã—ã¦ã€${userInfo.surname}ã•ã‚“ã€‚ã“ã‚Œã‹ã‚‰ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ã€‚ä½•ã§ã‚‚æ°—è»½ã«è©±ã—ã‹ã‘ã¦ãã ã•ã„ã­ã€‚`,
                'recommended3': `${userInfo.surname}ã•ã‚“ã€ã“ã‚“ã«ã¡ã¯ã€œï¼ ã‚ãƒ¼ã„ã€ã‚„ã£ã¨ä¼šãˆã¾ã—ãŸã­â™ª ã“ã‚Œã‹ã‚‰ãŸãã•ã‚“ãŠè©±ã—ã—ã¾ã—ã‚‡ã†ï¼`
            };
            
            document.getElementById('greeting-message').textContent = greetings[selectedPreset] || greetings['recommended1'];
        }
        
        // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
        function sendMessage() {
            const userInput = document.getElementById('user-response').value;
            if (!userInput.trim()) return;
            
            // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºï¼ˆå®Ÿè£…çœç•¥ï¼‰
            
            // AIå¿œç­”ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
            setTimeout(() => {
                const responses = [
                    'ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼ã“ã‚Œã‹ã‚‰ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™â™ª',
                    'ã‚ãªãŸã¨è©±ã›ã¦å¬‰ã—ã„ã§ã™ã€‚ä»Šåº¦ã¯ã©ã‚“ãªãŠè©±ã‚’ã—ã¾ã—ã‚‡ã†ã‹ï¼Ÿ',
                    'ç´ æ•µã§ã™ã­ï¼ç§ã‚‚ã‚ãªãŸã¨ãŠè©±ã—ã™ã‚‹ã®ã‚’æ¥½ã—ã¿ã«ã—ã¦ã„ã¾ã™ã€‚'
                ];
                
                document.getElementById('ai-response-text').textContent = 
                    responses[Math.floor(Math.random() * responses.length)];
                document.getElementById('ai-response').style.display = 'block';
            }, 1000);
        }
        
        // ãƒ›ãƒ¼ãƒ ç”»é¢ã¸ç§»å‹•
        function goToHome() {
            M.toast({html: 'ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ãŒä½œæˆã•ã‚Œã¾ã—ãŸï¼', classes: 'green'});
            
            setTimeout(() => {
                window.location.href = '/';
            }, 1500);
        }
        
        // ãã®ä»–ã®ãƒ—ãƒªã‚»ãƒƒãƒˆè¡¨ç¤º
        function showAllPresets() {
            alert('è¿½åŠ ã®ãƒ—ãƒªã‚»ãƒƒãƒˆé¸æŠæ©Ÿèƒ½ã¯å®Ÿè£…äºˆå®šã§ã™');
        }
        
        // ã‚¨ãƒ³ã‚¿ãƒ¼ã‚­ãƒ¼ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
        document.getElementById('user-response').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
        
        // MaterializeåˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            M.updateTextFields();
        });
    </script>
</body>
</html>