# オンボーディングエラー解決策

## 問題の概要
「オンボーディングは既に完了しています」というエラーが発生し、ユーザーが新しいオンボーディングを開始できない。

## 根本原因
1. オンボーディングが完了（completed: true）しているが、パートナーが作成されていない
2. ホームページでパートナーが見つからず、オンボーディングページへリダイレクト
3. オンボーディングページで完了済みのため、ホームページへリダイレクト
4. 無限ループが発生

## 解決策

### 1. 即時対応（ユーザー向け）
新しいオンボーディングを開始するには、以下のURLにアクセス：
```
http://localhost:3000/onboarding?new=true
```

### 2. コード修正（実装済み）
`frontend/app/onboarding/page.tsx`に以下の機能を追加：
- URLパラメータ `?new=true` で強制的に新規オンボーディングを開始
- `startOnboarding` APIを呼んで既存の完了済みデータをリセット

### 3. 今後の改善案
1. オンボーディング完了時に必ずパートナーが作成されることを保証
2. ホームページでオンボーディング完了済みだがパートナーがいない場合の処理を追加
3. 管理画面からオンボーディング状態をリセットできる機能を追加

## テスト手順
1. ブラウザで `http://localhost:3000/onboarding?new=true` にアクセス
2. 新しいオンボーディングが開始されることを確認
3. 各ステップを進めて、エラーが発生しないことを確認